{"version":3,"sources":["01_main.js"],"names":["timeModal","сloseModals","modal","clearTimeout","$","removeClass","setTimeout","setModalsClose","on","find","e","stopPropagation","preventDefault","openModal","text","title","icon","addClass","html","remove","setModal","each","_","el","data","insertFormAnims","this","off","length","inputOnClick","setInputs","val","trim","hasClass","prev","append","$this","setForms","target","document","querySelector","MutationObserver","mutations","forEach","mutation","observe","attributes","childList","characterData","addEventListener","headerOffset","getElementById","offsetHeight","sideMenuToggle","sideMenu","Swiper","slidesPerView","spaceBetween","pagination","clickable","navigation","nextEl","prevEl","classList","toggle","anchors","querySelectorAll","anchorsSec","setActiveLink","id","link","parentNode","getAttribute","slice","add","setActiveAnchor","i","top","window","scrollY","offset","offsetTop","height","scrollTo","left","behavior","onload","onscroll","tip"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["let timeModal;\r\n\r\n// Закрытие модалок\r\nfunction сloseModals(modal) {\r\n  clearTimeout(timeModal);\r\n  $(modal).removeClass(\"opened\");\r\n  clearTimeout(timeModal);\r\n  timeModal = setTimeout(() => {\r\n    $(modal).removeClass(\"!flex\");\r\n  }, 400);\r\n}\r\n\r\nconst setModalsClose = (modal) => {\r\n  $(modal).on(\"click\", function () {\r\n    сloseModals(modal);\r\n  });\r\n\r\n  $(modal)\r\n    .find(\".modal__container\")\r\n    .on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n  $(modal)\r\n    .find(\".modal__close\")\r\n    .on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      сloseModals(modal);\r\n    });\r\n};\r\n\r\n// Открытие модалок\r\n\r\nconst openModal = (modal, text, title, icon) => {\r\n  $(modal).addClass(\"!flex\");\r\n  clearTimeout(timeModal);\r\n  if (text) {\r\n    $(modal).find(\".form_insert-text\").html();\r\n    $(modal).find(\".form_insert-text\").html(text);\r\n  }\r\n\r\n  if(title){\r\n    $(modal).find(\".form_insert-title\").html();\r\n    $(modal).find(\".form_insert-title\").html(title);\r\n  }\r\n\r\n  if(!icon) {\r\n    $(modal).find(\".form_insert-icon\").remove();\r\n  }\r\n\r\n  timeModal = setTimeout(() => {\r\n    $(modal).addClass(\"opened\");\r\n  }, 100);\r\n};\r\n\r\n// Модалки\r\n\r\nconst setModal = () => {\r\n  $(\"[data-modal]\").each((_, el) => {\r\n    const modal = $(el).data(\"modal\");\r\n    $(el).on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      openModal(modal);\r\n    });\r\n\r\n    setModalsClose(modal);\r\n  });\r\n};\r\n\r\nfunction insertFormAnims() {\r\n  $(\".input__item\").each(function () {\r\n    $(this).off(\"focus\");\r\n    $(this).off(\"blur\");\r\n  });\r\n  if ($(\".input\").length > 0) {\r\n    function inputOnClick(el) {\r\n      el.addClass(\"active\");\r\n    }\r\n\r\n    function setInputs(el) {\r\n      if (el.find(\".input__item\").val().trim().length < 1) {\r\n        el.removeClass(\"active\");\r\n      } else {\r\n        inputOnClick(el);\r\n        if (el.hasClass(\"passwordaccess\")) {\r\n          if (\r\n            el.prev().find(\".input__item\").val() !==\r\n            el.find(\".input__item\").val()\r\n          ) {\r\n            el.addClass(\"error\");\r\n            el.append(\r\n              `<span class=\"absolute text-error text-errorColor\" style=\"top: calc(100% + 6px); right: 0; \">Пароли должны совбадать</span>`\r\n            );\r\n          } else {\r\n            el.removeClass(\"error\");\r\n            el.find(\".text-error\").remove();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let inp = $(\".input\");\r\n\r\n    inp.each(function () {\r\n      const $this = $(this);\r\n      setInputs($this);\r\n\r\n      $this.find(\".input__item\").on(\"focus\", function () {\r\n        inputOnClick($this);\r\n      });\r\n\r\n      $this.find(\".input__item\").on(\"blur\", function () {\r\n        setInputs($this);\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction setForms() {\r\n  insertFormAnims();\r\n  var target = document.querySelector(\"form\");\r\n\r\n  var observer = new MutationObserver(function (mutations) {\r\n    mutations.forEach(function (mutation) {\r\n      insertFormAnims();\r\n    });\r\n  });\r\n\r\n  var config = { attributes: true, childList: true, characterData: true };\r\n\r\n  observer.observe(target, config);\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const header = document.getElementById(\"header\");\r\n  const headerOffset = header.offsetHeight;\r\n  // SIDE MENU\r\n  const sideMenuToggle = document.querySelector(\".sidemenu__toggleButton\");\r\n  const sideMenu = document.querySelector(\".sidemenu\");\r\n\r\n  const productCategory = new Swiper(\".product-category .swiper\", {\r\n    slidesPerView: 3,\r\n    spaceBetween: 21,\r\n    pagination: {\r\n      el: \".swiper-controls .swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n    navigation: {\r\n      nextEl: \".swiper-controls .swiper-button-next\",\r\n      prevEl: \".swiper-controls .swiper-button-prev\",\r\n    },\r\n  });\r\n\r\n  if (sideMenuToggle) {\r\n    sideMenuToggle.addEventListener(\"click\", function () {\r\n      sideMenu.classList.toggle(\"active\");\r\n    });\r\n  }\r\n\r\n  // ANCHORS\r\n  const anchors = document.querySelectorAll(\".anchor a\");\r\n  const anchorsSec = document.querySelectorAll(\".anch-sec\");\r\n  const setActiveLink = (id) => {\r\n    anchors.forEach((link) => {\r\n      link.parentNode.classList.remove(\"active\");\r\n      if (link.getAttribute(\"href\").slice(1) === id) {\r\n        link.parentNode.classList.add(\"active\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const setActiveAnchor = () => {\r\n    anchorsSec.forEach((el, i) => {\r\n      const top = window.scrollY;\r\n      const offset = el.offsetTop - headerOffset;\r\n      const height = el.offsetHeight - headerOffset;\r\n      let id = el.getAttribute(\"id\");\r\n\r\n      if (top > offset && top < offset + height) {\r\n        setActiveLink(id);\r\n      } else if (i === 0 && top < offset) {\r\n        setActiveLink(id);\r\n      } else if (\r\n        i === anchorsSec.length - 1 &&\r\n        top < offset &&\r\n        top >\r\n          anchorsSec[i - 1].offsetTop +\r\n            anchorsSec[i - 1].offsetHeight -\r\n            2 * headerOffset\r\n      ) {\r\n        setActiveLink(id);\r\n      }\r\n    });\r\n  };\r\n\r\n  if (anchors.length > 0) {\r\n    anchors.forEach((el) => {\r\n      el.addEventListener(\"click\", function (e) {\r\n        e.preventDefault();\r\n        const target = document.getElementById(\r\n          el.getAttribute(\"href\").slice(1)\r\n        ).offsetTop;\r\n        window.scrollTo({\r\n          top: target - headerOffset + 10,\r\n          left: 0,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n    });\r\n    window.onload = setActiveAnchor;\r\n    window.onscroll = setActiveAnchor;\r\n  }\r\n\r\n  // FORMS\r\n\r\n  if ($(\"form\").length > 0) {\r\n    setForms();\r\n  }\r\n\r\n  // MODALs\r\n  setModalsClose(\"#formSuccess\");\r\n  setModal();\r\n  // TIP\r\n\r\n  const tip = document.querySelector(\".tips__close\");\r\n\r\n  if (tip) {\r\n    tip.addEventListener(\"click\", function () {\r\n      this.parentNode.classList.remove(\"active\");\r\n    });\r\n  }\r\n});\r\n"]}